<!doctype html>
<html lang="en">
<head>
<!-- Basic SEO -->
<title>MXZone â€“ Watch Movies Online</title>
<meta name="description" content="MXZone is your cinematic portal for streaming and downloading movies with neon immersive UI.">
<meta name="keywords" content="MXZone, movies, streaming, download, Terabox, cinematic, neon UI">

<!-- OpenGraph (for social sharing) -->
<meta property="og:title" content="MXZone â€“ Watch Movies Online">
<meta property="og:description" content="Stream and download movies with MXZone's cinematic neon experience.">
<meta property="og:image" content="/assets/og-banner.jpg">
<meta property="og:url" content="https://mxzone.vercel.app/movie.html">
<meta property="og:type" content="website">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="MXZone â€“ Watch Movies Online">
<meta name="twitter:description" content="Stream and download movies with MXZone's cinematic neon experience.">
<meta name="twitter:image" content="/assets/og-banner.jpg">
  
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MXZone | Home</title>
  <link rel="stylesheet" href="/styles.css" />
  <link rel="manifest" href="/manifest.json" />
</head>
<body>
  <!-- App Bar -->
  <header class="app-bar">
    <h1>MXZone</h1>
  </header>

  <!-- Search Bar -->
  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="ðŸ” Search movies..." />
  </div>

  <!-- Category Rows -->
  <main class="container">
    <section class="category-section">
      <h2>ðŸ”¥ Trending</h2>
      <div id="trendingRow" class="row"></div>
    </section>

    <section class="category-section">
      <h2>ðŸ†• New Releases</h2>
      <div id="newRow" class="row"></div>
    </section>

    <section class="category-section">
      <h2>ðŸ’¥ Action</h2>
      <div id="actionRow" class="row"></div>
    </section>

    <section class="category-section">
      <h2>ðŸ˜‚ Comedy</h2>
      <div id="comedyRow" class="row"></div>
    </section>

    <section class="category-section">
  <h2>ðŸ”¥ Trending <a href="/category.html?cat=trending" class="see-all">See All</a></h2>
  <div id="trendingRow" class="row"></div>
    </section>
  </main>

  <footer class="footer">
    <p>Â© 2025 MXZone | Powered by Firebase + Cloudinary</p>
  </footer>

  <!-- Firebase + UI -->
  <script type="module">
    import { fetchMovies } from './lib/data.js';
    import { renderRow } from './lib/ui.js';

    let allMovies = [];
    const searchInput = document.getElementById('searchInput');

    fetchMovies().then(movies => {
      allMovies = movies;
      renderAllRows();
    });

    function renderAllRows() {
      const q = searchInput.value.toLowerCase();

      renderRow(document.getElementById('trendingRow'),
        allMovies.filter(m => m.category === "trending")
                 .filter(m => m.title.toLowerCase().includes(q) || m.description.toLowerCase().includes(q)));

      renderRow(document.getElementById('newRow'),
        allMovies.filter(m => m.category === "new")
                 .filter(m => m.title.toLowerCase().includes(q) || m.description.toLowerCase().includes(q)));

      renderRow(document.getElementById('actionRow'),
        allMovies.filter(m => m.category === "action")
                 .filter(m => m.title.toLowerCase().includes(q) || m.description.toLowerCase().includes(q)));

      renderRow(document.getElementById('comedyRow'),
        allMovies.filter(m => m.category === "comedy")
                 .filter(m => m.title.toLowerCase().includes(q) || m.description.toLowerCase().includes(q)));
    }

    searchInput.addEventListener("input", renderAllRows);

    if ('serviceWorker' in navigator) navigator.serviceWorker.register('/sw.js');
  </script>
</body>
</html>
