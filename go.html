<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Redirecting...</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <main class="container">
    <div class="detail-card">
      <h2>Preparing your link…</h2>
      <p>We’ll open the sponsor, then take you to the file.</p>
      <div class="actions">
        <a id="continue" class="btn primary" href="#">Continue</a>
      </div>
    </div>
  </main>

  <script>
    const params = new URLSearchParams(location.search);
    const ad = params.get('ad');
    const to = params.get('to');

    const openFlow = () => {
      if (ad) window.open(ad, '_blank');
      if (to) setTimeout(() => { location.href = to; }, 1500);
    };

    document.getElementById('continue').addEventListener('click', (e) => {
      e.preventDefault();
      openFlow();
    });

    setTimeout(openFlow, 4000);
  </script>
</body>
</html>
